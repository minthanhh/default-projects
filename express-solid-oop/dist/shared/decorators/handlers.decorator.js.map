{"version":3,"sources":["../../../src/shared/decorators/handlers.decorator.ts"],"sourcesContent":["import { MetadataKeys } from '../metadata/metadata.keys';\r\n\r\nexport enum Methods {\r\n   GET = 'get',\r\n   PUT = 'put',\r\n   POST = 'post',\r\n   DELETE = 'delete',\r\n}\r\n\r\nexport interface IRouter {\r\n   method: Methods;\r\n   middlewares?: any[];\r\n   handlerPath: string;\r\n   handlerName: string | symbol;\r\n}\r\n\r\nconst decoratorFactory =\r\n   (method: Methods) =>\r\n   (path: string, middlewares?: any[]): MethodDecorator =>\r\n   (target, propertyKey) => {\r\n      const controllerClass = target.constructor;\r\n\r\n      const routers: IRouter[] = Reflect.hasMetadata(\r\n         MetadataKeys.ROUTERS,\r\n         controllerClass\r\n      )\r\n         ? Reflect.getMetadata(MetadataKeys.ROUTERS, controllerClass)\r\n         : [];\r\n\r\n      routers.push({\r\n         method,\r\n         middlewares,\r\n         handlerPath: path,\r\n         handlerName: propertyKey,\r\n      });\r\n\r\n      Reflect.defineMetadata(MetadataKeys.ROUTERS, routers, controllerClass);\r\n   };\r\n\r\nexport const Get = decoratorFactory(Methods.GET);\r\nexport const Put = decoratorFactory(Methods.PUT);\r\nexport const Post = decoratorFactory(Methods.POST);\r\nexport const Delete = decoratorFactory(Methods.DELETE);\r\n"],"names":["Methods","Delete","Get","Post","Put","decoratorFactory","method","path","middlewares","target","propertyKey","controllerClass","constructor","routers","Reflect","hasMetadata","MetadataKeys","ROUTERS","getMetadata","push","handlerPath","handlerName","defineMetadata"],"mappings":"yBAEYA,0JAwCCC,MAAM,mBAANA,QAHAC,GAAG,mBAAHA,wCAEAC,IAAI,mBAAJA,MADAC,GAAG,mBAAHA,mCAxCgB,8BAEjBJ,QAAAA,UAAAA,qFAcZ,MAAMK,iBACH,AAACC,GACD,CAACC,EAAcC,IACf,CAACC,EAAQC,KACN,IAAMC,EAAkBF,EAAOG,WAAW,CAEpCC,EAAqBC,QAAQC,WAAW,CAC3CC,0BAAY,CAACC,OAAO,CACpBN,GAEEG,QAAQI,WAAW,CAACF,0BAAY,CAACC,OAAO,CAAEN,GAC1C,EAAE,CAEPE,EAAQM,IAAI,CAAC,CACVb,OAAAA,EACAE,YAAAA,EACAY,YAAab,EACbc,YAAaX,CAChB,GAEAI,QAAQQ,cAAc,CAACN,0BAAY,CAACC,OAAO,CAAEJ,EAASF,EACzD,EAEUT,IAAMG,wBACND,IAAMC,wBACNF,KAAOE,yBACPJ,OAASI"}